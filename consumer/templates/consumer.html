<!DOCTYPE html>
<html lang="en">
  <head>
    {% load static %}

    <!-- <title>AdminX - The last Admin template you'll ever need</title> -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel="stylesheet" type="text/css" href="{% static 'dist/css/adminx.css'%}" media="screen" />
    <!-- <link rel="stylesheet" href="{% static 'autocomplete.css' %}" type="text/css"/> -->


    <link href = "https://code.jquery.com/ui/1.10.4/themes/ui-lightness/jquery-ui.css" rel = "stylesheet">
    <script src = "https://code.jquery.com/jquery-1.10.2.js"></script>
    <script src = "https://code.jquery.com/ui/1.10.4/jquery-ui.js"></script>

    <link rel="stylesheet" href="http://code.jquery.com/ui/1.8.18/themes/base/jquery-ui.css" type="text/css" media="all" /> 
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"> </script> 
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.min.js" type="text/javascript"></script>
    
   

    <script>
            $(document).ready(function(){
                // alert("NewAccountNum/ber") ;
                $("#NewAccountNumber").autocomplete({
                    source: "/ajax_calls/show/",
                    minLength: 2,
                    open: function(){
                        setTimeout(function () {
                            $('.ui-autocomplete').css('z-index', 100000);
                        }, 0);
                    }
                  });
            });
    </script>

    <script>
      $(document).ready(function(){
    //]] $("button").click(function(){
    // $("#hidediv").fadeOut(3000);                  
    // }); 

      $("#logindiv").fadeOut(5000);

    });
    </script>




  </head>
  <body>
    <div class="adminx-container">
      <nav class="navbar navbar-expand justify-content-between fixed-top">
        <a class="navbar-brand mb-0 h1 d-none d-md-block" href="/consumer">
          <img src="{% static 'plugins/images/Tpsodl_logo.png'%}"  style="width:150px;height:50px" class="navbar-brand-image d-inline-block align-top mr-2" alt="">
        
        </a>

        <form class="form-inline form-quicksearch d-none d-md-block mx-auto">
          <div class="input-group">
            <div class="input-group-prepend">
              <div class="input-group-icon">
                <!-- <i data-feather="search"></i> -->
              </div>
            </div>
            <!-- <input type="text" class="form-control" id="search" placeholder="Type to search..."> -->
          </div>
        </form>

        <!-- <div class="d-flex flex-1 d-block d-md-none">
          <a href="#" class="sidebar-toggle ml-3">
            <i data-feather="menu"></i>
          </a>
        </div> -->

        <ul class="navbar-nav d-flex justify-content-end mr-2">
         
          <!-- Notifications -->

          <div class="w3-container">
            <!-- <h2>Dropdown Button</h2>
            <p>Move the mouse over the button to open the dropdown content.</p> -->
            <!-- <div class="w3-dropdown-hover">
              <img src="{% static 'demo/img/user.jpg'%}" style="width:80px;height:53px;" >
              <div class="w3-dropdown-content w3-bar-block w3-border">
                <a href="/logout" class="w3-bar-item w3-button">logout</a>
              </div>
            </div>
          </div> -->

          <div class="navbar-menu-wrapper d-flex align-items-center justify-content-end">
       
            <ul class="navbar-nav navbar-nav-right">
              <li class="nav-item nav-profile dropdown">
              
                <div>
                      
                    <a class="btn btn-info" href='/logout'>Logout</a>
                
                </div>
              </li>
            </ul>
            <button class="navbar-toggler navbar-toggler-right d-lg-none align-self-center" type="button" data-toggle="offcanvas">
              <span class="mdi mdi-menu"></span>
            </button>
          </div>


        

          <!-- <li class="nav-item dropdown">
            <a class="nav-link avatar-with-name" id="navbarDropdownMenuLink" data-toggle="dropdown" href="#">
              <img src="{% static 'demo/img/user.jpg'%}" style="width:70px;height:55px;" class="d-inline-block align-top" alt="">
            </a>
            <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
              <a class="dropdown-item" href="#">Account</a>
              <div class="dropdown-divider"></div>
              <a class="dropdown-item text-danger" href="/logout">Log out</a>
            </div>
          </li> -->
        </ul>
      </nav>

      <!-- expand-hover push -->
      <!-- Sidebar -->
      <div class="adminx-sidebar expand-hover push">
        <ul class="sidebar-nav">
          <li class="sidebar-nav-item">
            <a href="/consumer" class="sidebar-nav-link active">
              <span class="sidebar-nav-icon">
                <i data-feather="home"></i>
              </span>
              <span class="sidebar-nav-name">
                Dashboard
              </span>
              <span class="sidebar-nav-end">

              </span>
            </a>
          </li>

          <li class="sidebar-nav-item">
            <a href="/consumer" class="sidebar-nav-link">
              <span class="sidebar-nav-icon">
                <i data-feather="layout"></i>
              </span>
              <span class="sidebar-nav-name">
                Consumer
              </span>
            </a>
          </li>

          <!-- <li class="sidebar-nav-item">
            <a href="/consumer_map" class="sidebar-nav-link" target="blank">
              <span class="sidebar-nav-icon">
                <i data-feather="map-pin"></i>
              </span>
              <span class="sidebar-nav-name">
                Map
              </span>
            </a>
          </li> -->


          <li class="sidebar-nav-item">
            <a href="/consumer_excel" class="sidebar-nav-link">
              <span class="sidebar-nav-icon">
                <i data-feather="arrow-right"></i>
              </span>
              <span class="sidebar-nav-name">
                Excel Download
              </span>
            </a>
          </li>


          
          
            </ul>
          </li>
        </ul>
      </div><!-- Sidebar End -->

      <!-- adminx-content-aside -->
      <div class="adminx-content">
        <div class="adminx-main-content">
          <div class="container-fluid">
            <!-- BreadCrumb -->
            <!-- <nav aria-label="breadcrumb" role="navigation">
              <ol class="breadcrumb adminx-page-breadcrumb">
                <li class="breadcrumb-item"><a href="#">Home</a></li>
                <li class="breadcrumb-item active" aria-current="page">Dashboard</li>
              </ol>
            </nav> -->

            <div class="pb-3">
              <h2><b>Consumer </b></h2>
            </div>

            <div class="row">
              <div class="col p-12">
                <div style="text-align:center">
                
                  <form method="GET" action="/show" enctype="multipart/form-data">
                    {% csrf_token %}  
                    <td>
                      <input  type="text" name="NewAccountNumber" id="NewAccountNumber" placeholder=" Search Account Number" style="width: 220px;height: 40px;"> 
                    </td> 

                    &nbsp;

                    <td>
                      <select  name="FeederName" id="FeederName" placeholder=" Search Feeder Name" style="width: 220px;height: 40px;"> 
                      <option value="">-- Select FeederName --</option>
                                
                      <option value="all">All</option>
                      <option value="Aska Road-1">Aska Road-1</option>
                      <option value="Aska Road-2 (Old Berhampur) ">Aska Road-2 (Old Berhampur) </option>
                      <option value="Aska road PHD(Dedicated)">Aska road PHD(Dedicated)</option>
                      <option value="Brajanagar ">Brajanagar</option>
                      <option value="CITY Hospital (Ambagada)">CITY Hospital (Ambagada)</option>
                      <option value="City Hospital (Dedicated) 138 PI (HT)">City Hospital (Dedicated) 138 PI (HT)</option>
                      <option value="Dalua Sahi (NEW)">Dalua Sahi (NEW)</option>
                      <option value="Gandhinagar-I">Gandhinagar-I</option>
                      <option value="Gandhinagar-II ">Gandhinagar-II </option>
                      <option value="Gatebazar ">Gatebazar </option>
                      <option value="Gosaninuagam ">Gosaninuagam </option>
                      <option value="HIG ">HIG </option>
                      <option value="Housing Board Colony">Housing Board Colony</option>
                      <option value="Sana Bazar">Sana Bazar</option>
                      <option value="Sriram Nagar">Sriram Nagar</option>
                      <option value="Tulsinagar">Tulsinagar</option>
                      <option value="Urban bank road">Urban bank road</option>
                  </select>
                    
                    
                    </td> 
                    &nbsp;

                    <td>
                      <select type="text" name="Username" id="Username" placeholder=" Search Username" style="width: 220px;height: 40px;"> 
                    
                      <option value="">-- Select Username --</option>
                                
                      <option value="all">All</option>
                      <option value="mmc1">MMC1</option>
                      <option value="mmc2">MMC2</option>
                      <option value="mmc3">MMC3</option>
                      <option value="mmc4">MMC4</option>
                      <option value="mmc5">MMC5</option>
                      <option value="mmc6">MMC6</option>
                      <option value="mmc7">MMC7</option>
                      <option value="mmc8">MMC8</option>
                      <option value="mmc9">MMC9</option>
                      <option value="mmc10">MMC10</option>
                      <option value="mmc11">MMC11</option>
                      <option value="mmc12">MMC12</option>
                      <option value="mmc13">MMC13</option>
                      <option value="mmc14">MMC14</option>
                      <option value="mmc15">MMC15</option>
                      <option value="mmc16">MMC16</option>
                      <option value="mmc17">MMC17</option>
                      <option value="mmc18">MMC18</option>
                      <option value="mmc19">MMC19</option>
                      <option value="mmc20">MMC20</option>
                      <option value="mmc21">MMC21</option>
                      <option value="mmc22">MMC22</option>
                      <option value="mmc23">MMC23</option>
                      <option value="mmc24">MMC24</option>
                      <option value="mmc25">MMC25</option>
                      <option value="mmc26">MMC26</option>
                      <option value="mmc27">MMC27</option>
                      <option value="mmc28">MMC28</option>
                      <option value="mmc29">MMC29</option>
                      <option value="mmc30">MMC30</option>
                      <option value="mmc31">MMC31</option>
                      <option value="mmc32">MMC32</option>
                      <option value="mmc33">MMC33</option>
                      <option value="mmc34">MMC34</option>
                      <option value="mmc35">MMC35</option>
                      <option value="mmc36">MMC36</option>
                      <option value="mmc37">MMC37</option>
                      <option value="mmc38">MMC38</option>
                      <option value="mmc39">MMC39</option>
                      <option value="mmc40">MMC40</option>
                      <option value="mmc41">MMC41</option>
                      <option value="mmc42">MMC42</option>
                      <option value="mmc43">MMC43</option>
                      <option value="mmc44">MMC44</option>
                      <option value="mmc45">MMC45</option>
                      <option value="mmc46">MMC46</option>
                      <option value="mmc47">MMC47</option>
                      <option value="mmc48">MMC48</option>
                      <option value="mmc49">MMC49</option>
                      <option value="mmc50">MMC50</option>
                      <option value="tsa1">TSA1</option>
                      <option value="tsa2">TSA2</option>
                      <option value="tsa3">TSA3</option>
                      <option value="tsa4">TSA4</option>
                      <option value="tsa5">TSA5</option>
                      <option value="tsa6">TSA6</option>
                      <option value="tsa7">TSA7</option>
                      <option value="tsa8">TSA8</option>
                      <option value="tsa9">TSA9</option>
                      <option value="tsa10">TSA10</option>
                      <option value="tsa11">TSA11</option>
                      <option value="tsa12">TSA12</option>
                      <option value="tsa13">TSA13</option>
                      <option value="tsa14">TSA14</option>
                      <option value="tsa15">TSA15</option>
                      <option value="tsa16">TSA16</option>
                      <option value="tsa17">TSA17</option>
                      <option value="tsa18">TSA18</option>
                      <option value="tsa19">TSA19</option>
                      <option value="tsa20">TSA20</option>
                      <option value="tsa21">TSA21</option>
                      <option value="tsa22">TSA22</option>
                      <option value="tsa23">TSA23</option>
                      <option value="tsa24">TSA24</option>
                      <option value="tsa25">TSA25</option>
                      <option value="tsa26">TSA26</option>
                      <option value="tsa27">TSA27</option>
                      <option value="tsa28">TSA28</option>
                      <option value="tsa29">TSA29</option>
                      <option value="tsa30">TSA30</option>
                      <option value="tsa31">TSA31</option>
                      <option value="tsa32">TSA32</option>
                      <option value="tsa33">TSA33</option>
                      <option value="tsa34">TSA34</option>
                      <option value="tsa35">TSA35</option>
                      <option value="tsa36">TSA36</option>
                      <option value="tsa37">TSA37</option>
                      <option value="tsa38">TSA38</option>
                      <option value="tsa39">TSA39</option>
                      <option value="tsa40">TSA40</option>
                      <option value="tsa41">TSA41</option>
                      <option value="tsa42">TSA42</option>
                      <option value="tsa43">TSA43</option>
                      <option value="tsa44">TSA44</option>
                      <option value="tsa45">TSA45</option>
                      <option value="tsa46">TSA46</option>
                      <option value="tsa47">TSA47</option>
                      <option value="tsa48">TSA48</option>
                      <option value="tsa49">TSA49</option>
                      <option value="tsa50">TSA50</option>

                    </select>
                    
                    </td> 

                    &nbsp;
                    <td>
                      <input name="Date_Time" id="Date_Time" type="Date" placeholder=" Search Username" style="width: 220px;height: 40px;"> 
                    </td> 
                    &nbsp;

                  <td>
          
                    {% comment %} <input type="submit" value="download "> {% endcomment %}
                     <button type="submit" class="btn btn-primary">Submit</button>
                  </td>
                </form>
   
                </div>
              </div>

              {% comment %} <div class="col p-4">
                <div style="margin-left:5px;">
                
                  <form method="POST" action="/show_FeederName" enctype="multipart/form-data">
                    {% csrf_token %}  
                    <td>
                      <input name="FeederName" id="FeederName" placeholder=" Search Feeder Name" style="width: 220px;height: 40px;"> 
                    </td> 

                  <td>
                    &nbsp;
                     <button type="submit" class="btn btn-primary">Submit</button>
                  </td>
                </form>
   
                </div> 
              </div>


              <div class="col p-4">
                <div style="margin-left:5px;">
                
                  <form method="POST" action="/show_Username" enctype="multipart/form-data">
                    {% csrf_token %}  
                    <td>
                      <input name="Username" id="Username" placeholder=" Search Username" style="width: 220px;height: 40px;"> 
                    </td> 

                  <td>
                    &nbsp;
                     <button type="submit" class="btn btn-primary">Submit</button>
                  </td>
                </form>
   
                </div> 
              </div> {% endcomment %}

            </div>
        
            <br>
            <div class="limiter" >
              <div class="container-login100" style="margin-top:10px">
                <div class="container">
                  {% if messages %}
                      <div class ="messages" id="logindiv">
                
                    {% for message in messages  %}
                        <div class="alert alert-success">
                          <strong>! &nbsp; {{message}}</strong> 
                        </div>
                
                    {% endfor %}
                
                      </div>
                      
                  {% endif %}
                </div> 

          

            <div class="row">
                <div class="col-lg-12">
                  <div class="card">
                    <div class="card-header d-flex justify-content-between align-items-center">

                    <div class="table-responsive">
                        <table  class="table table-striped table table-hover" style="text-align: center;">
                          <thead>  
                            <tr>  
                                <th>Username</th>  
                                <th>SubDivision</th>  
                                <th>Section</th>  
                                <th>Feeder Name</th>  
                                <th>SC Number</th> 
                                <th>Account Number</th>              
                                <th>Actions</th>  
                            </tr>  
                            </thead>  
                            <tbody>  

                            {% for consumer in Consumers %}

                            <tr>  
                              <td>{{consumer.Username}}</td>
                              <td>{{consumer.SubDivision}}</td>  
                              <td>{{consumer.Section}}</td> 
                              <td>{{consumer.FeederName}}</td> 
                              <td>{{consumer.SCNumber}}</td> 
                              <td>{{consumer.NewAccountNumber}}</td> 
   
                                <td>  
                                          <a href="/consumer_edit/{{ consumer.Id }}"> <i data-feather="edit"></i>Edit</a>  
                                 &nbsp;   <a href="/consumer_view/{{ consumer.Id }}"><i data-feather="eye"></i>View</a>  
                                 <!-- &nbsp;   <a href="/consumer_map/{{ Consumer.Latitude }}/{{ Consumer.Longitude }}"><i data-feather="map-pin"></i>Map</a>   -->
                                 &nbsp;   <a href="/consumer_map/{{ consumer.Id }}"  target="_blank"><i data-feather="map-pin"></i>Map</a>
                                 &nbsp;   <a href="/consumer_delete/{{ consumer.Id }}"><i data-feather="trash-2"></i>Delete</a>  
                                </td>  
                            </tr>  
                    
                            {% endfor %}

                           </tbody>     
                        </table>
                    </div>

                  </div>
                </div>

      </div>
    </div>


    
    <div style="text-align:center;">
      <span class="">
        {% if Consumers.has_previous %}
        <a href="?NewAccountNumber={{NewAccountNumber}}&FeederName={{FeederName}}&Username={{Username}}&Date_Time={{Date_Time}}&page={{ Consumers.previous_page_number }}">Previous</a>
        {% endif %}
  
      <span class="">
      Page {{ Consumers.number }} of {{ Consumers.paginator.num_pages }}.
      </span>
      
      
      {% if Consumers.has_next %}
      <a href="?NewAccountNumber={{NewAccountNumber}}&FeederName={{FeederName}}&Username={{Username}}&Date_Time={{Date_Time}}&page={{ Consumers.next_page_number }}">Next</a>
      {% endif %}
      </span>
  </div> 

                




    
    <!-- <script href="https://code.jquery.com/jquery-3.2.1.min.js'%}"></script> -->
    <script href="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js'%}"></script>
    <script href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js'%}"></script>
    <script src="{% static 'dist/js/vendor.js'%}"></script>
    <script src="{% static 'dist/js/adminx.js'%}"></script>

    <!-- <script src="{% static 'plugins/bower_components/jquery/dist/jquery.min.js'%}"></script> -->
    <!-- Bootstrap Core JavaScript -->
    <script src="{% static 'bootstrap/dist/js/bootstrap.min.js'%}"></script>
    <!-- Menu Plugin JavaScript -->
    <script src="{% static 'plugins/bower_components/sidebar-nav/dist/sidebar-nav.min.js'%}"></script>
    <!--slimscroll JavaScript -->
    <script src="{% static 'js/jquery.slimscroll.js'%}"></script>
    <!--Wave Effects -->
    <script src="{% static 'js/waves.js'%}"></script>
    <!-- Custom Theme JavaScript -->
    <script src="{% static 'js/custom.min.js'%}"></script>

    <!-- If you prefer vanilla JS these are the only required scripts -->
    <script src="{% static './dist/js/vendor.js'%}"></script>
    <!--<script src="./dist/js/adminx.vanilla.js"></script-->
  </body>
</html>